!function(t){function e(e){for(var n,i,l=e[0],c=e[1],s=e[2],u=0,d=[];u<l.length;u++)i=l[u],a[i]&&d.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);for(p&&p(e);d.length;)d.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,l=1;l<r.length;l++){var c=r[l];0!==a[c]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},a={0:0},o=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var s=0;s<l.length;s++)e(l[s]);var p=c;o.push([2,1]),r()}([,function(t,e,r){t.exports=r.p+"./assets/data.csv"},function(t,e,r){"use strict";r.r(e);var n=r(0),a=(r(3),r(1)),o=r.n(a);const i={top:40,right:20,bottom:30,left:100},l=500-i.top-i.bottom,c=1e3-i.left-i.right;let s=[],p=[];n.d(o.a,function(t){if(t.Year)return{year:t.Year,attendence:t.Attendance}}).then(function(t){(s=n.f().key(function(t){return t.year}).sortKeys(n.a).entries(t)).map(t=>{p.push({key:t.key,value:t.values.filter(t=>t.attendence).reduce((t,e)=>t+parseInt(e.attendence,10)||0,0)})}),function(){const t=[];s.map(e=>t.push(e.values.filter(t=>t.attendence).reduce((t,e)=>t+parseInt(e.attendence,10)||0,0)));const e=n.g().domain(s.map(t=>t.key)).range([i.left,c+i.left]).padding(.2),r=n.h().domain([0,n.e(t)]).range([i.top+l,i.top]);u.append("g").attr("transform",`translate(0,${i.top+l})`).call(n.b(e)),u.append("g").attr("class","grid").attr("transform",`translate(${i.left},0)`).call(n.c(r).scale(r).tickSize(-c,0,0)),u.append("text").attr("x",-l/2-i.top).attr("y",40).attr("transform","rotate(-90)").attr("text-anchor","middle").text("Amount of audience"),u.append("text").attr("x",c/2+i.left).attr("y",20).attr("text-anchor","middle").text("FIFA audience of years"),u.append("text").attr("x",c/2+i.left).attr("y",l+i.top+i.bottom).attr("text-anchor","middle").text("Year"),u.selectAll("rect").data(p).enter().append("rect").attr("fill","steelblue").attr("x",t=>e(t.key)).attr("y",t=>r(t.value)).attr("width",e.bandwidth()).attr("height",t=>l-r(t.value)+i.top),u.selectAll("rect").on("mouseenter",function(t,a){n.i(this).transition().attr("opacity",.6).attr("x",t=>e(t.key)-2).attr("width",e.bandwidth()+4);const o=r(t.value);u.append("line").attr("id","limit").attr("x1",i.left).attr("y1",o).attr("x2",e(t.key)+e.bandwidth()).attr("y2",o).attr("stroke","green")}).on("mouseleave",function(){n.i(this).transition().attr("opacity",1).attr("x",t=>e(t.key)).attr("width",e.bandwidth()),n.i("#limit").remove()})}()});const u=n.i("#chart").append("svg").attr("width",1e3).attr("height",500)},function(t,e,r){var n=r(4);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(6)(n,a);n.locals&&(t.exports=n.locals)},function(t,e,r){(t.exports=r(5)(!1)).push([t.i,".grid path{stroke-width:0}.grid line{stroke:#9faaae;stroke-opacity:.6}",""])}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGEvZGF0YS5jc3YiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY3NzL3N0eWxlLnNhc3M/YzM1YyIsIndlYnBhY2s6Ly8vLi9zcmMvY3NzL3N0eWxlLnNhc3MiXSwibmFtZXMiOlsid2VicGFja0pzb25wQ2FsbGJhY2siLCJkYXRhIiwibW9kdWxlSWQiLCJjaHVua0lkIiwiY2h1bmtJZHMiLCJtb3JlTW9kdWxlcyIsImV4ZWN1dGVNb2R1bGVzIiwiaSIsInJlc29sdmVzIiwibGVuZ3RoIiwiaW5zdGFsbGVkQ2h1bmtzIiwicHVzaCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm1vZHVsZXMiLCJwYXJlbnRKc29ucEZ1bmN0aW9uIiwic2hpZnQiLCJkZWZlcnJlZE1vZHVsZXMiLCJhcHBseSIsImNoZWNrRGVmZXJyZWRNb2R1bGVzIiwicmVzdWx0IiwiZGVmZXJyZWRNb2R1bGUiLCJmdWxmaWxsZWQiLCJqIiwiZGVwSWQiLCJzcGxpY2UiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicyIsImluc3RhbGxlZE1vZHVsZXMiLCIwIiwiZXhwb3J0cyIsIm1vZHVsZSIsImwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicCIsImpzb25wQXJyYXkiLCJ3aW5kb3ciLCJvbGRKc29ucEZ1bmN0aW9uIiwic2xpY2UiLCJtYXJnaW4iLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJoZWlnaHQiLCJ3aWR0aCIsImVudHJpZXMiLCJwYWlycyIsImQzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfZGF0YV9kYXRhX2Nzdl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQiLCJhIiwiWWVhciIsInllYXIiLCJhdHRlbmRlbmNlIiwiQXR0ZW5kYW5jZSIsInRoZW4iLCJzb3J0S2V5cyIsIm1hcCIsIml0ZW0iLCJ2YWx1ZXMiLCJmaWx0ZXIiLCJyZWR1Y2UiLCJiIiwicGFyc2VJbnQiLCJzdW0iLCJ4IiwiZG9tYWluIiwicmFuZ2UiLCJwYWRkaW5nIiwieSIsInN2ZyIsImFwcGVuZCIsImF0dHIiLCJzY2FsZSIsInRpY2tTaXplIiwidGV4dCIsInNlbGVjdEFsbCIsImVudGVyIiwiYmFuZHdpZHRoIiwib24iLCJ0aGlzIiwidHJhbnNpdGlvbiIsInkxMiIsInJlbW92ZSIsIkRyYXciLCJjb250ZW50Iiwib3B0aW9ucyIsImhtciIsInRyYW5zZm9ybSIsImluc2VydEludG8iLCJ1bmRlZmluZWQiLCJsb2NhbHMiXSwibWFwcGluZ3MiOiJhQUNBLFNBQUFBLEVBQUFDLEdBUUEsSUFQQSxJQU1BQyxFQUFBQyxFQU5BQyxFQUFBSCxFQUFBLEdBQ0FJLEVBQUFKLEVBQUEsR0FDQUssRUFBQUwsRUFBQSxHQUlBTSxFQUFBLEVBQUFDLEtBQ1FELEVBQUFILEVBQUFLLE9BQW9CRixJQUM1QkosRUFBQUMsRUFBQUcsR0FDQUcsRUFBQVAsSUFDQUssRUFBQUcsS0FBQUQsRUFBQVAsR0FBQSxJQUVBTyxFQUFBUCxHQUFBLEVBRUEsSUFBQUQsS0FBQUcsRUFDQU8sT0FBQUMsVUFBQUMsZUFBQUMsS0FBQVYsRUFBQUgsS0FDQWMsRUFBQWQsR0FBQUcsRUFBQUgsSUFLQSxJQUZBZSxLQUFBaEIsR0FFQU8sRUFBQUMsUUFDQUQsRUFBQVUsT0FBQVYsR0FPQSxPQUhBVyxFQUFBUixLQUFBUyxNQUFBRCxFQUFBYixPQUdBZSxJQUVBLFNBQUFBLElBRUEsSUFEQSxJQUFBQyxFQUNBZixFQUFBLEVBQWlCQSxFQUFBWSxFQUFBVixP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R0FBS29ELEVBQUVwRCxFQUFFZ0IsTUFDbkIyQyxLQUFLLFFBQVNQLEVBQUVhLGFBRW5COUIsRUFBQSxFQUFVLFVBQVVtQyxXQTVHeEJDLEtBR0YsTUFBTWQsRUFBTXRCLEVBQUEsRUFDRixVQUNQdUIsT0FBTyxPQUNQQyxLQUFLLFFBQVMsS0FDZEEsS0FBSyxTQUFVLHNCQzFDbEIsSUFBQWEsRUFBQWpGLEVBQUEsR0FFQSxpQkFBQWlGLFFBQUE1RSxFQUFBMUIsRUFBQXNHLEVBQUEsTUFPQSxJQUFBQyxHQUFlQyxLQUFBLEVBRWZDLGVBUEFBLEVBUUFDLGdCQUFBQyxHQUVBdEYsRUFBQSxFQUFBQSxDQUFBaUYsRUFBQUMsR0FFQUQsRUFBQU0sU0FBQWxGLEVBQUFELFFBQUE2RSxFQUFBTSwwQkNqQkFsRixFQUFBRCxRQUFBSixFQUFBLEVBQUFBLEVBQUEsSUFLQWpCLE1BQUFzQixFQUFBMUIsRUFBQSx5RUFBZ0ciLCJmaWxlIjoiLi9qcy9pbmRleC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbiBcdGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGRhdGEpIHtcbiBcdFx0dmFyIGNodW5rSWRzID0gZGF0YVswXTtcbiBcdFx0dmFyIG1vcmVNb2R1bGVzID0gZGF0YVsxXTtcbiBcdFx0dmFyIGV4ZWN1dGVNb2R1bGVzID0gZGF0YVsyXTtcblxuIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbiBcdFx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG4gXHRcdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcblxuIFx0XHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcbiBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4gXHRcdH1cblxuIFx0XHQvLyBhZGQgZW50cnkgbW9kdWxlcyBmcm9tIGxvYWRlZCBjaHVuayB0byBkZWZlcnJlZCBsaXN0XG4gXHRcdGRlZmVycmVkTW9kdWxlcy5wdXNoLmFwcGx5KGRlZmVycmVkTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMgfHwgW10pO1xuXG4gXHRcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gYWxsIGNodW5rcyByZWFkeVxuIFx0XHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiBcdH07XG4gXHRmdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlcygpIHtcbiBcdFx0dmFyIHJlc3VsdDtcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlZmVycmVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBkZWZlcnJlZE1vZHVsZSA9IGRlZmVycmVkTW9kdWxlc1tpXTtcbiBcdFx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcbiBcdFx0XHRmb3IodmFyIGogPSAxOyBqIDwgZGVmZXJyZWRNb2R1bGUubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBkZXBJZCA9IGRlZmVycmVkTW9kdWxlW2pdO1xuIFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2RlcElkXSAhPT0gMCkgZnVsZmlsbGVkID0gZmFsc2U7XG4gXHRcdFx0fVxuIFx0XHRcdGlmKGZ1bGZpbGxlZCkge1xuIFx0XHRcdFx0ZGVmZXJyZWRNb2R1bGVzLnNwbGljZShpLS0sIDEpO1xuIFx0XHRcdFx0cmVzdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBkZWZlcnJlZE1vZHVsZVswXSk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdHJldHVybiByZXN1bHQ7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4gXHQvLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbiBcdC8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHQwOiAwXG4gXHR9O1xuXG4gXHR2YXIgZGVmZXJyZWRNb2R1bGVzID0gW107XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdHZhciBqc29ucEFycmF5ID0gd2luZG93W1wid2VicGFja0pzb25wXCJdID0gd2luZG93W1wid2VicGFja0pzb25wXCJdIHx8IFtdO1xuIFx0dmFyIG9sZEpzb25wRnVuY3Rpb24gPSBqc29ucEFycmF5LnB1c2guYmluZChqc29ucEFycmF5KTtcbiBcdGpzb25wQXJyYXkucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrO1xuIFx0anNvbnBBcnJheSA9IGpzb25wQXJyYXkuc2xpY2UoKTtcbiBcdGZvcih2YXIgaSA9IDA7IGkgPCBqc29ucEFycmF5Lmxlbmd0aDsgaSsrKSB3ZWJwYWNrSnNvbnBDYWxsYmFjayhqc29ucEFycmF5W2ldKTtcbiBcdHZhciBwYXJlbnRKc29ucEZ1bmN0aW9uID0gb2xkSnNvbnBGdW5jdGlvbjtcblxuXG4gXHQvLyBhZGQgZW50cnkgbW9kdWxlIHRvIGRlZmVycmVkIGxpc3RcbiBcdGRlZmVycmVkTW9kdWxlcy5wdXNoKFsyLDFdKTtcbiBcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gcmVhZHlcbiBcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiLi9hc3NldHMvZGF0YS5jc3ZcIjsiLCJpbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5cbmltcG9ydCAnLi9jc3Mvc3R5bGUuc2Fzcyc7XG5cbmltcG9ydCBjc3YgZnJvbSAnLi9kYXRhL2RhdGEuY3N2JztcblxuY29uc3QgbWFyZ2luID0geyB0b3A6IDQwLCByaWdodDogMjAsIGJvdHRvbTogMzAsIGxlZnQ6IDEwMCB9LFxuICBoZWlnaHQgPSA1MDAgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbSxcbiAgd2lkdGggPSAxMDAwIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XG5cbmxldCBlbnRyaWVzID0gW107XG5sZXQgcGFpcnMgPSBbXTtcblxuZDMuY3N2KGNzdiwgZnVuY3Rpb24oZCkge1xuICBpZiAoZC5ZZWFyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHllYXI6IGQuWWVhcixcbiAgICAgIGF0dGVuZGVuY2U6IGQuQXR0ZW5kYW5jZVxuICAgIH07XG4gIH1cbn0pLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICBlbnRyaWVzID0gZDNcbiAgICAubmVzdCgpXG4gICAgLmtleShmdW5jdGlvbihkKSB7XG4gICAgICByZXR1cm4gZC55ZWFyO1xuICAgIH0pXG4gICAgLnNvcnRLZXlzKGQzLmFzY2VuZGluZylcbiAgICAuZW50cmllcyhkYXRhKTtcbiAgZW50cmllcy5tYXAoaXRlbSA9PiB7XG4gICAgcGFpcnMucHVzaCh7XG4gICAgICBrZXk6IGl0ZW0ua2V5LFxuICAgICAgdmFsdWU6IGl0ZW0udmFsdWVzLmZpbHRlcihpdGVtID0+IGl0ZW0uYXR0ZW5kZW5jZSkucmVkdWNlKChhLCBiKSA9PiB7XG4gICAgICAgIHJldHVybiBhICsgcGFyc2VJbnQoYi5hdHRlbmRlbmNlLCAxMCkgfHwgMDtcbiAgICAgIH0sIDApXG4gICAgfSk7XG4gIH0pO1xuICBEcmF3KCk7XG59KTtcblxuY29uc3Qgc3ZnID0gZDNcbiAgLnNlbGVjdCgnI2NoYXJ0JylcbiAgLmFwcGVuZCgnc3ZnJylcbiAgLmF0dHIoJ3dpZHRoJywgMTAwMClcbiAgLmF0dHIoJ2hlaWdodCcsIDUwMCk7XG5cbmZ1bmN0aW9uIERyYXcoKSB7XG4gIGNvbnN0IHN1bSA9IFtdO1xuICBlbnRyaWVzLm1hcChpdGVtID0+XG4gICAgc3VtLnB1c2goXG4gICAgICBpdGVtLnZhbHVlcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmF0dGVuZGVuY2UpLnJlZHVjZSgoYSwgYikgPT4ge1xuICAgICAgICByZXR1cm4gYSArIHBhcnNlSW50KGIuYXR0ZW5kZW5jZSwgMTApIHx8IDA7XG4gICAgICB9LCAwKVxuICAgIClcbiAgKTtcbiAgY29uc3QgeCA9IGQzXG4gICAgLnNjYWxlQmFuZCgpXG4gICAgLmRvbWFpbihlbnRyaWVzLm1hcChpdGVtID0+IGl0ZW0ua2V5KSlcbiAgICAucmFuZ2UoW21hcmdpbi5sZWZ0LCB3aWR0aCArIG1hcmdpbi5sZWZ0XSlcbiAgICAucGFkZGluZygwLjIpO1xuXG4gIGNvbnN0IHkgPSBkM1xuICAgIC5zY2FsZUxpbmVhcigpXG4gICAgLmRvbWFpbihbMCwgZDMubWF4KHN1bSldKVxuICAgIC5yYW5nZShbbWFyZ2luLnRvcCArIGhlaWdodCwgbWFyZ2luLnRvcF0pO1xuXG4gIHN2Z1xuICAgIC5hcHBlbmQoJ2cnKVxuICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDAsJHttYXJnaW4udG9wICsgaGVpZ2h0fSlgKVxuICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpO1xuXG4gIHN2Z1xuICAgIC5hcHBlbmQoJ2cnKVxuICAgIC5hdHRyKCdjbGFzcycsICdncmlkJylcbiAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke21hcmdpbi5sZWZ0fSwwKWApXG4gICAgLmNhbGwoXG4gICAgICBkM1xuICAgICAgICAuYXhpc0xlZnQoeSlcbiAgICAgICAgLnNjYWxlKHkpXG4gICAgICAgIC50aWNrU2l6ZSgtd2lkdGgsIDAsIDApXG4gICAgKTtcblxuICAvLyB5IGF4aXMgbGFiZWxcbiAgc3ZnXG4gICAgLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHIoJ3gnLCAtaGVpZ2h0IC8gMiAtIG1hcmdpbi50b3ApXG4gICAgLmF0dHIoJ3knLCA0MClcbiAgICAuYXR0cigndHJhbnNmb3JtJywgJ3JvdGF0ZSgtOTApJylcbiAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcbiAgICAudGV4dCgnQW1vdW50IG9mIGF1ZGllbmNlJyk7XG5cbiAgLy8gIGxlZ2VuZFxuICBzdmdcbiAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cigneCcsIHdpZHRoIC8gMiArIG1hcmdpbi5sZWZ0KVxuICAgIC5hdHRyKCd5JywgMjApXG4gICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpXG4gICAgLnRleHQoJ0ZJRkEgYXVkaWVuY2Ugb2YgeWVhcnMnKTtcblxuICAvLyB4IGF4aXMgbGFiZWxcbiAgc3ZnXG4gICAgLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHIoJ3gnLCB3aWR0aCAvIDIgKyBtYXJnaW4ubGVmdClcbiAgICAuYXR0cigneScsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxuICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuICAgIC50ZXh0KCdZZWFyJyk7XG5cbiAgY29uc3QgcmVjdCA9IHN2Zy5zZWxlY3RBbGwoJ3JlY3QnKS5kYXRhKHBhaXJzKTtcblxuICByZWN0XG4gICAgLmVudGVyKClcbiAgICAuYXBwZW5kKCdyZWN0JylcbiAgICAuYXR0cignZmlsbCcsICdzdGVlbGJsdWUnKVxuICAgIC5hdHRyKCd4JywgZCA9PiB4KGQua2V5KSlcbiAgICAuYXR0cigneScsIGQgPT4geShkLnZhbHVlKSlcbiAgICAuYXR0cignd2lkdGgnLCB4LmJhbmR3aWR0aCgpKVxuICAgIC5hdHRyKCdoZWlnaHQnLCBkID0+IGhlaWdodCAtIHkoZC52YWx1ZSkgKyBtYXJnaW4udG9wKTtcblxuICBzdmdcbiAgICAuc2VsZWN0QWxsKCdyZWN0JylcbiAgICAub24oJ21vdXNlZW50ZXInLCBmdW5jdGlvbihkLCBpKSB7XG4gICAgICBkMy5zZWxlY3QodGhpcylcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAuYXR0cignb3BhY2l0eScsIDAuNilcbiAgICAgICAgLmF0dHIoJ3gnLCBkID0+IHgoZC5rZXkpIC0gMilcbiAgICAgICAgLmF0dHIoJ3dpZHRoJywgeC5iYW5kd2lkdGgoKSArIDQpO1xuXG4gICAgICBjb25zdCB5MTIgPSB5KGQudmFsdWUpO1xuXG4gICAgICBzdmdcbiAgICAgICAgLmFwcGVuZCgnbGluZScpXG4gICAgICAgIC5hdHRyKCdpZCcsICdsaW1pdCcpXG4gICAgICAgIC5hdHRyKCd4MScsIG1hcmdpbi5sZWZ0KVxuICAgICAgICAuYXR0cigneTEnLCB5MTIpXG4gICAgICAgIC5hdHRyKCd4MicsIHgoZC5rZXkpICsgeC5iYW5kd2lkdGgoKSlcbiAgICAgICAgLmF0dHIoJ3kyJywgeTEyKVxuICAgICAgICAuYXR0cignc3Ryb2tlJywgJ2dyZWVuJyk7XG4gICAgfSlcbiAgICAub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbigpIHtcbiAgICAgIGQzLnNlbGVjdCh0aGlzKVxuICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgIC5hdHRyKCdvcGFjaXR5JywgMSlcbiAgICAgICAgLmF0dHIoJ3gnLCBkID0+IHgoZC5rZXkpKVxuICAgICAgICAuYXR0cignd2lkdGgnLCB4LmJhbmR3aWR0aCgpKTtcblxuICAgICAgZDMuc2VsZWN0KCcjbGltaXQnKS5yZW1vdmUoKTtcbiAgICB9KTtcbn1cbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL3N0eWxlLnNhc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vc3R5bGUuc2Fzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vc3R5bGUuc2Fzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmdyaWQgcGF0aHtzdHJva2Utd2lkdGg6MH0uZ3JpZCBsaW5le3N0cm9rZTojOWZhYWFlO3N0cm9rZS1vcGFjaXR5Oi42fVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiJdLCJzb3VyY2VSb290IjoiIn0=